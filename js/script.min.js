$(function(){var b={cats:[{name:"Nate",img:"img/cat.png",points:0,index:0},{name:"Jessica",img:"img/cat.png",points:0,index:1},{name:"Joey",img:"img/cat.png",points:0,index:2},{name:"Abby",img:"img/cat.png",points:0,index:3},{name:"Spaz",img:"img/cat.png",points:0,index:4}],HTMLcat:'<div id="name">%nnn%</div><div id="point">%p%</div><div id="cat"><img id="pic" src="%img%" width="100px" height="100px" alt="%name%"></div>',HTMLlist:'<div class="list-flex" id="%index%">%name%</div>',current:0};var c={init:function(){a.init(b);c.menuListener()},listenerMain:function(){$("#pic").click(function(){b.cats[b.current].points+=1;$("#point").text(b.cats[b.current].points)});$("#admin").click(function(){})},menuListener:function(){for(var d=0;d<b.cats.length;d++){c.addListener(d)}},addListener:function(d){$("#"+b.cats[d].name).click(function(){b.current=b.cats[d].index;console.log(this.id);a.renderCatCurrent(b)})},addAdminListener:function(){$("#adminB").show();$("#adminB").click(function(){a.adminView(b.cats[b.current])});$("#submit-btn").click(function(){c.adminSubmit()});$("#cancel-btn").click(function(){a.hideAdmin()})},adminSubmit:function(){console.log("Submit started");if($("#noc").val()!==""){var d=Number($("#noc").val());b.cats[b.current].points=d;console.log(d)}if($("#noCat").val()!==""){var f=$("#noCat").val();for(var g=0;g<b.cats.length;g++){$("#"+b.cats[g].name).remove()}b.cats[b.current].name=f;console.log(f);$("#noCat").text=""}if($("#imageSource").val()!==""){var e=$("#imageSource").val();b.cats[b.current].img=e;console.log(e)}a.init(b);console.log("init");a.renderCatCurrent(b);console.log("render");c.menuListener()}};var a={init:function(f){var d="";for(var e=0;e<f.cats.length;e++){d+=f.HTMLlist.replace("%name%",f.cats[e].name).replace("%index%",f.cats[e].name)}$("#catNames").append(d);$("#adminB").hide();$("#adminForm").hide()},renderCatCurrent:function(e){var d=e.HTMLcat.replace("%nnn%",e.cats[e.current].name).replace("%p%",e.cats[e.current].points).replace("%img%",e.cats[e.current].img).replace("%name%",e.cats[e.current].name);$("#ctx").replaceWith('<div class="image" id="ctx">'+d+"</div>");c.listenerMain();a.adminButton()},adminButton:function(){$("#adminB").replaceWith('<div id="adminB">Admin</div>');c.addAdminListener()},adminView:function(d){$("#adminForm").show();console.log(d);$("#noc").val(d.points);$("#noCat").val(d.name);$("#imageSource").val(d.img)},hideAdmin:function(){$("#adminForm").hide()}};c.init()});